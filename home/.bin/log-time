#!/bin/bash

# Display help message
show_help() {
    echo "Usage: log-time <activity_description>"
    echo "Logs the current time and activity to $HOME/TODO/timesheet.csv"
    echo ""
    echo "Options:"
    echo "  -h, --help    Display this help message and exit"
}

datetime=$(date +%Y%m%d%H%M)
date=$(echo "$datetime" | cut -c1-8)

# Check if help requested or incorrect parameters
if [[ "$1" == "-h" || "$1" == "--help" || $# -eq 0 || $# -gt 1 ]]; then
    show_help
    exit 1
fi

echo "$datetime,$date,,,,$1" >> "$HOME/TODO/timesheet.csv"
